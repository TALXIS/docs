(window.webpackJsonp=window.webpackJsonp||[]).push([[102],{606:function(t,e,a){"use strict";a.r(e);var r=a(1),n=Object(r.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"introduction"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[t._v("#")]),t._v(" Introduction")]),t._v(" "),a("p",[t._v("Data Transformation Steps provide a structured mechanism for correcting data in target records.")]),t._v(" "),a("p",[t._v("Each step defines which records to modify, which field to update, and what new value to apply. Execution results are logged for full auditability.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/.attachments/applications/modules/bootstrap/data/data-transformation-step-form.png",alt:"Data Transformation Step Form"}})]),t._v(" "),a("h2",{attrs:{id:"entity-definitions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#entity-definitions"}},[t._v("#")]),t._v(" Entity Definitions")]),t._v(" "),a("h3",{attrs:{id:"data-transformation-step-talxis-datatransformationstep"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#data-transformation-step-talxis-datatransformationstep"}},[t._v("#")]),t._v(" Data Transformation Step ("),a("code",[t._v("talxis_datatransformationstep")]),t._v(")")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Display Name")]),t._v(" "),a("th",[t._v("Logical Name")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("Name")]),t._v(" "),a("td",[a("code",[t._v("talxis_name")])]),t._v(" "),a("td",[t._v("Descriptive name of the transformation step.")])]),t._v(" "),a("tr",[a("td",[t._v("Entity Name")]),t._v(" "),a("td",[a("code",[t._v("talxis_entityname")])]),t._v(" "),a("td",[t._v("Logical name of the entity being transformed.")])]),t._v(" "),a("tr",[a("td",[t._v("Target Field")]),t._v(" "),a("td",[a("code",[t._v("talxis_attributename")])]),t._v(" "),a("td",[t._v("Field name to update (logical name).")])]),t._v(" "),a("tr",[a("td",[t._v("Step Number")]),t._v(" "),a("td",[a("code",[t._v("talxis_stepnumber")])]),t._v(" "),a("td",[t._v("Execution order; lower numbers are processed first.")])]),t._v(" "),a("tr",[a("td",[t._v("Filter Query")]),t._v(" "),a("td",[a("code",[t._v("talxis_query")])]),t._v(" "),a("td",[t._v("FetchXML to select records for update.")])]),t._v(" "),a("tr",[a("td",[t._v("Condition (Function)")]),t._v(" "),a("td",[a("code",[t._v("talxis_conditionid")])]),t._v(" "),a("td",[t._v("Optional PowerFx condition.")])]),t._v(" "),a("tr",[a("td",[t._v("Transformation (Function)")]),t._v(" "),a("td",[a("code",[t._v("talxis_transformationid")])]),t._v(" "),a("td",[t._v("PowerFx function that computes the applies new value.")])]),t._v(" "),a("tr",[a("td",[t._v("Description")]),t._v(" "),a("td",[a("code",[t._v("talxis_description")])]),t._v(" "),a("td",[t._v("Optional explanation of what the step does.")])])])]),t._v(" "),a("h3",{attrs:{id:"data-transformation-log-talxis-datatransformationlog"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#data-transformation-log-talxis-datatransformationlog"}},[t._v("#")]),t._v(" Data Transformation Log ("),a("code",[t._v("talxis_datatransformationlog")]),t._v(")")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Display Name")]),t._v(" "),a("th",[t._v("Logical Name")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("Data")]),t._v(" "),a("td",[a("code",[t._v("talxis_datarecordid")])]),t._v(" "),a("td",[t._v("Polymorphic reference to the target record.")])]),t._v(" "),a("tr",[a("td",[t._v("Transformation Step")]),t._v(" "),a("td",[a("code",[t._v("talxis_stepid")])]),t._v(" "),a("td",[t._v("Reference to the originating step.")])]),t._v(" "),a("tr",[a("td",[t._v("Original Value")]),t._v(" "),a("td",[a("code",[t._v("talxis_originalvalue")])]),t._v(" "),a("td",[t._v("Value before the transformation.")])]),t._v(" "),a("tr",[a("td",[t._v("New Value")]),t._v(" "),a("td",[a("code",[t._v("talxis_newvalue")])]),t._v(" "),a("td",[t._v("Value after the transformation.")])]),t._v(" "),a("tr",[a("td",[t._v("Type (Manual/Automatic)")]),t._v(" "),a("td",[a("code",[t._v("talxis_datatransformationlogtypecode")])]),t._v(" "),a("td",[t._v("Indicates how the change was triggered.")])]),t._v(" "),a("tr",[a("td",[t._v("Reason Description")]),t._v(" "),a("td",[a("code",[t._v("talxis_reasondescription")])]),t._v(" "),a("td",[t._v("Used to capture the reason for manual transformations.")])]),t._v(" "),a("tr",[a("td",[t._v("Error Message")]),t._v(" "),a("td",[a("code",[t._v("talxis_errormessage")])]),t._v(" "),a("td",[t._v("Stores error messages generated during custom API execution.")])]),t._v(" "),a("tr",[a("td",[t._v("Status")]),t._v(" "),a("td",[a("code",[t._v("statuscode")])]),t._v(" "),a("td",[t._v("Processing result (see below).")])])])]),t._v(" "),a("h2",{attrs:{id:"status-values"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#status-values"}},[t._v("#")]),t._v(" Status Values")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Code")]),t._v(" "),a("th",[t._v("Status Name")]),t._v(" "),a("th",[t._v("Meaning")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("742070000")]),t._v(" "),a("td",[t._v("Evaluation")]),t._v(" "),a("td",[t._v("Condition pending.")])]),t._v(" "),a("tr",[a("td",[t._v("742070001")]),t._v(" "),a("td",[t._v("Waiting for processing")]),t._v(" "),a("td",[t._v("Ready for execution.")])]),t._v(" "),a("tr",[a("td",[t._v("742070002")]),t._v(" "),a("td",[t._v("Processed")]),t._v(" "),a("td",[t._v("Change applied successfully.")])]),t._v(" "),a("tr",[a("td",[t._v("742070003")]),t._v(" "),a("td",[t._v("Cancelled")]),t._v(" "),a("td",[t._v("Condition returned false.")])]),t._v(" "),a("tr",[a("td",[t._v("742070004")]),t._v(" "),a("td",[t._v("Error")]),t._v(" "),a("td",[t._v("Error during execution.")])])])]),t._v(" "),a("h2",{attrs:{id:"execution-flow"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#execution-flow"}},[t._v("#")]),t._v(" Execution Flow")]),t._v(" "),a("h3",{attrs:{id:"step-ordering"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step-ordering"}},[t._v("#")]),t._v(" Step Ordering")]),t._v(" "),a("p",[t._v("Each transformation step includes a "),a("code",[t._v("Step Number")]),t._v(" that defines its place in the execution sequence. The system:")]),t._v(" "),a("ol",[a("li",[t._v("Sorts steps by this number (ascending)")]),t._v(" "),a("li",[t._v("Waits for all steps with lower numbers to finish before running the next group")])]),t._v(" "),a("p",[t._v("The flow "),a("code",[t._v("talxis_waitforpreviousinstancesandlogsfinished")]),t._v(" handles this sequencing.")]),t._v(" "),a("blockquote",[a("p",[t._v("⚠️ This applies when multiple steps are executed at the same time.")])]),t._v(" "),a("h3",{attrs:{id:"automatic-execution"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#automatic-execution"}},[t._v("#")]),t._v(" Automatic Execution")]),t._v(" "),a("p",[t._v("Triggered after data import or other orchestration points, the steps run:")]),t._v(" "),a("ul",[a("li",[t._v("Based on their target entity (matched against the import type)")]),t._v(" "),a("li",[t._v("Only if their FetchXML query returns results")]),t._v(" "),a("li",[t._v("Conditionally, if a Function is defined")])]),t._v(" "),a("blockquote",[a("p",[t._v("⚠️ This applies only to Albert VAT App. See "),a("a",{attrs:{href:"https://thenetworg.sharepoint.com/:w:/r/teams/pct20004/Shared%20Documents/General/_DOCS/250509-DC-01%20VAT%20App%20-%20User%20Guide.docx?d=w621b4d97c59f40be860062708c44bbd1&csf=1&web=1&e=NfOERk",target:"_blank",rel:"noopener noreferrer"}},[t._v("User Guide"),a("OutboundLink")],1),t._v(" to get more info.")])]),t._v(" "),a("h3",{attrs:{id:"manual-execution"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#manual-execution"}},[t._v("#")]),t._v(" Manual Execution")]),t._v(" "),a("p",[t._v("From the admin interface, a user can trigger a specific step using the "),a("strong",[t._v("Execute Step")]),t._v(" button. The system will:")]),t._v(" "),a("ul",[a("li",[t._v("Evaluate FetchXML")]),t._v(" "),a("li",[t._v("Create logs for eligible records")]),t._v(" "),a("li",[t._v("Evaluate condition (if present)")]),t._v(" "),a("li",[t._v("Run the plugin to apply the change")])]),t._v(" "),a("h2",{attrs:{id:"powerfx-conditions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#powerfx-conditions"}},[t._v("#")]),t._v(" PowerFx Conditions")]),t._v(" "),a("p",[t._v("Used to determine whether a record qualifies for update. Function requirements:")]),t._v(" "),a("ul",[a("li",[t._v("Input: "),a("code",[t._v("RecordId")]),t._v(" (string)")]),t._v(" "),a("li",[t._v("Output: "),a("code",[t._v("Result")]),t._v(" (boolean)")])]),t._v(" "),a("p",[t._v("Example:")]),t._v(" "),a("div",{staticClass:"language-plaintext line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("{\n  Result:\n    LookUp('Invoice Lines','Line ID' = GUID(RecordId)).Country = \"CZ\"\n}\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("h2",{attrs:{id:"powerfx-value-computation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#powerfx-value-computation"}},[t._v("#")]),t._v(" PowerFx Value Computation")]),t._v(" "),a("p",[t._v("In contrast to checks, transformations can also compute the actual value to be applied. A dedicated PowerFx function returns:")]),t._v(" "),a("ul",[a("li",[t._v("Input: "),a("code",[t._v("RecordId")])]),t._v(" "),a("li",[t._v("Output: "),a("code",[t._v("NewValue")]),t._v(" (string)")])]),t._v(" "),a("p",[t._v("Example:")]),t._v(" "),a("div",{staticClass:"language-plaintext line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("{\n  NewValue:\n    Text(\n      Patch(\n        'Invoice Lines',\n        LookUp('Invoice Lines', 'Line ID' = GUID(RecordId)),\n        { Country: \"DE\" }\n      ).Country\n    )\n}\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])]),a("h2",{attrs:{id:"manual-corrections-via-dialog"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#manual-corrections-via-dialog"}},[t._v("#")]),t._v(" Manual Corrections via Dialog")]),t._v(" "),a("p",[t._v("Manual corrections allow users to:")]),t._v(" "),a("ul",[a("li",[t._v("Select a field to update (validated for writability)")]),t._v(" "),a("li",[t._v("Enter a new value based on data type")]),t._v(" "),a("li",[t._v("Confirm the change")])]),t._v(" "),a("p",[t._v("This creates a "),a("code",[t._v("talxis_datatransformationlog")]),t._v(" with:")]),t._v(" "),a("ul",[a("li",[t._v("Type: Manual")]),t._v(" "),a("li",[t._v("Step: "),a("em",[t._v("(not linked to any step)")])])]),t._v(" "),a("p",[t._v("Plugin "),a("code",[t._v("ResolveDataTransformationLog")]),t._v(" applies the change based on the new value.")]),t._v(" "),a("h2",{attrs:{id:"related-plugins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#related-plugins"}},[t._v("#")]),t._v(" Related Plugins")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("ResolveDataTransformationLog")]),t._v(" – Applies the new value to the record based on the transformation log.")])]),t._v(" "),a("h2",{attrs:{id:"automation-integration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#automation-integration"}},[t._v("#")]),t._v(" Automation Integration")]),t._v(" "),a("p",[t._v("Transformation steps are typically triggered as part of a post-import process, but may also run independently. Each step provides:")]),t._v(" "),a("ul",[a("li",[t._v("Controlled correction mechanism")]),t._v(" "),a("li",[t._v("Traceable log per change")]),t._v(" "),a("li",[t._v("Flexible logic with conditions and value computation")])])])}),[],!1,null,null,null);e.default=n.exports}}]);